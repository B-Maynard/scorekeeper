
<div class="card" style="margin-top:20px">
  <div class="row">
    <input class="input" placeholder="Add player name..." [(ngModel)]="state.newPlayer" (keyup.enter)="addPlayer()" />
    <button class="btn btn-cta" (click)="addPlayer()">Add Player</button>
    <span class="counter">{{ state.players.length }} players</span>
    <div style="flex:1"></div>
    <button class="btn btn-ghost" [disabled]="!history.canUndo()" (click)="undo()">Undo</button>
    <button class="btn btn-danger" (click)="reset()">Reset</button>
  </div>
</div>

<div class="grid" style="margin-top:16px">
  <div class="card" *ngFor="let p of state.players">
    <div class="score-top"><div class="score-badge" [id]="'score-' + p.id">{{ p.score }}</div></div>
<div style="text-align:center; margin-bottom:8px;"><h3 style="margin:0">{{ p.name }}</h3></div>

    <div class="row score-row" style="margin:10px 0;">
      <button class="btn" (click)="minus(p,1)">-1</button>
      <button class="btn" (click)="plus(p,1)">+1</button>

      <input type="number" class="number-input" [(ngModel)]="state.customAmount">
      <button class="btn" (click)="minus(p,state.customAmount)" class="amount-btn">-{{ state.customAmount }}</button>
      <button class="btn" (click)="plus(p,state.customAmount)" class="amount-btn">+{{ state.customAmount }}</button>

      <div style="flex:1"></div>
      <button class="btn btn-ghost" (click)="removePlayer(p.id)">Remove</button>
    </div>

    <label style="font-size:12px; color:var(--muted)">Notes</label>
    <textarea class="input" rows="3" [(ngModel)]="p.notes" (blur)="updateNotes()" placeholder="Any info to remember..."></textarea>
  </div>
</div>
